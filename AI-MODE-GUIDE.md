# 🤖 AI智能选词功能

## ✨ 新功能介绍

现在插件支持两种选词模式：

### 1. **词表模式**（默认）
- ✅ 使用内置词汇表
- ✅ 快速、免费
- ✅ 无需配置
- ✅ 适合日常使用

### 2. **AI智能模式**（新增）
- 🤖 使用AI分析文本
- 🎯 智能选择合适的词汇
- 📊 根据上下文优化选词
- 🔧 需要配置API密钥

## 🎯 AI模式优势

### 智能分析
- 根据文本内容智能选词
- 考虑上下文和语境
- 避免替换专有名词
- 优先选择高频词汇

### 灵活适应
- 自动适应不同类型文本
- 技术文章、新闻、文学都能处理
- 不受固定词表限制
- 持续学习优化

### 个性化
- 根据难度级别调整
- 根据替换比例精确控制
- 适合不同学习阶段

## 🔧 配置方法

### 1. 获取API密钥

**OpenAI API（推荐）**
1. 访问 https://platform.openai.com/
2. 注册并登录
3. 进入 API Keys 页面
4. 创建新的API密钥
5. 复制密钥（格式：sk-...）

**其他兼容API**
- Claude API
- 国内API（如智谱AI、通义千问等）
- 自部署的兼容API

### 2. 配置插件

1. **打开插件设置**
   - 点击浏览器工具栏的插件图标

2. **选择AI模式**
   - 在"选词模式"中选择"AI智能"

3. **输入API密钥**
   - 在"API密钥"框中粘贴你的密钥
   - 格式：`sk-...`

4. **配置API地址（可选）**
   - 默认使用OpenAI官方地址
   - 如使用其他API，输入对应地址
   - 例如：`https://api.anthropic.com/v1/messages`

5. **应用设置**
   - 点击"应用设置并刷新页面"

## 📊 使用示例

### 词表模式 vs AI模式

**原文：**
```
人工智能技术在医疗领域的应用越来越广泛，
深度学习算法可以帮助医生更准确地诊断疾病。
```

**词表模式（固定词汇）：**
```
artificial intelligence技术在医疗领域的应用越来越广泛，
deep learning算法可以帮助医生更准确地诊断疾病。
```

**AI模式（智能选词）：**
```
artificial intelligence technology在medical领域的application越来越widespread，
deep learning algorithm可以help医生更accurately地diagnose疾病。
```

AI模式会：
- ✅ 选择更多合适的词汇
- ✅ 考虑词汇的学习价值
- ✅ 保持句子的可读性
- ✅ 避免过度替换

## 💰 成本说明

### OpenAI API定价
- 模型：gpt-3.5-turbo
- 成本：约 $0.002 / 1000 tokens
- 每页文本：约 $0.001-0.005
- 非常便宜！

### 优化建议
- 只在需要时使用AI模式
- 日常浏览使用词表模式
- 学习新领域时使用AI模式

## ⚙️ 技术细节

### AI提示词
插件会发送以下信息给AI：
- 页面文本内容（最多2000字符）
- 替换比例要求
- 难度级别
- 选词规则

### AI返回格式
```json
{
  "words": [
    {"chinese": "学习", "english": "study"},
    {"chinese": "重要", "english": "important"}
  ]
}
```

### 安全性
- API密钥加密存储在浏览器本地
- 不会上传到其他服务器
- 只发送必要的文本内容

## 🔄 切换模式

随时可以在两种模式间切换：

1. **词表模式** → 快速、免费、稳定
2. **AI模式** → 智能、灵活、精准

建议：
- 📰 新闻、博客 → 词表模式
- 📚 专业文章 → AI模式
- 🌐 日常浏览 → 词表模式
- 🎓 深度学习 → AI模式

## ❓ 常见问题

### Q: AI模式必须配置吗？
A: 不是。默认使用词表模式，完全免费可用。

### Q: 支持哪些AI服务？
A: 支持OpenAI API和兼容的API服务。

### Q: API密钥安全吗？
A: 是的，密钥只存储在你的浏览器本地。

### Q: AI模式会很慢吗？
A: 首次加载需要1-3秒，之后会缓存结果。

### Q: 可以同时使用两种模式吗？
A: 不可以，但可以随时切换。

## 🎉 开始使用

1. ✅ 保持词表模式（默认）- 立即可用
2. 🤖 或配置AI模式 - 获得智能体验

**两种模式都很棒，选择适合你的！** 🚀

---

*AI模式是可选功能，词表模式已经足够强大！*
